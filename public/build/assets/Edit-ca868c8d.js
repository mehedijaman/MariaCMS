import{r as y,h as S,i as w,T as k,q as B,o as p,c as $,w as x,b as r,a as e,m as F,u as l,t as m,s as N,e as D,j as g,d as f,F as E,f as M,C as _,g as O}from"./app-198c837c.js";import{_ as n}from"./InputError-e4aa8344.js";import{_ as u}from"./InputLabel-d2578485.js";import{_ as c}from"./TextInput-4f404eec.js";import{_ as T}from"./ImageInput-7cdec0dd.js";import{g as P}from"./textHelper-8b1dfc94.js";import{_ as q}from"./AppLayout-b37d2fc1.js";import{_ as I}from"./Breadcrumb-77727244.js";import{C as L}from"./ckeditor-878754b0.js";import"./EnvelopeIcon-9e0c3160.js";/* empty css                                              */import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-6315b5fb.js";import"./ApplicationLogo-1f20c0c4.js";import"./SwitchLocale-186e770e.js";import"./index-94c05ca6.js";import"./TagIcon-7e321f0f.js";import"./StarIcon-4856bd7b.js";/* empty css                                               */const Y={class:"p-4"},z={class:"w-full mx-auto bg-white p-4"},A={class:"grid grid-cols-5 gap-2"},G={class:"col-span-4 grid grid-cols-2 gap-2"},H={class:"col-span-1"},J={class:"col-span-1"},K={class:"col-span-1 flex gap-1 h-fit"},Q=["disabled"],R={class:"grid grid-cols-5 gap-2"},W={class:"col-span-4 bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg"},X={class:"col-span-1 bg-white dark:bg-slate-800 overflow-hidden shadow rounded-md text-sm"},Z={id:"accordion-open","data-accordion":"open"},ee=e("h2",{id:"accordion-open-heading-1"},[e("button",{type:"button",class:"flex items-center justify-between w-full p-2 font-sans rtl:text-right text-gray-800 border border-b-0 border-gray-200 focus:ring-2 focus:ring-red-300 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3","data-accordion-target":"#product-summary","aria-expanded":"true","aria-controls":"product-summary"},[e("span",{class:"flex items-center"},"Summary"),e("svg",{"data-accordion-icon":"",class:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"})])])],-1),re={id:"product-summary",class:"hidden","aria-labelledby":"accordion-open-heading-1"},oe={class:"p-2 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900"},se={class:"space-y-1"},ae=["value"],te={class:"space-y-1"},le=e("option",{value:"1"},"Published",-1),de=e("option",{value:"0"},"Unpublished",-1),ie=e("option",{value:null},"Draft",-1),ne=[le,de,ie],ue={class:"space-y-1"},ce=e("option",{value:"1"},"Yes",-1),pe=e("option",{value:"0"},"No",-1),me=[ce,pe],ge={class:"space-y-1"},fe={class:"space-y-1"},_e={class:"space-y-1"},be=e("h2",{id:"accordion-open-heading-3"},[e("button",{type:"button",class:"flex items-center justify-between w-full p-2 font-sans rtl:text-right text-gray-800 border border-gray-200 focus:ring-2 focus:ring-red-300 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3","data-accordion-target":"#product-featured-image","aria-expanded":"true","aria-controls":"product-featured-image"},[e("span",{class:"flex items-center"},"Featured Image"),e("svg",{"data-accordion-icon":"",class:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"})])])],-1),he={id:"product-featured-image",class:"hidden","aria-labelledby":"accordion-open-heading-3"},ve={class:"p-2 border border-t-0 border-gray-200 dark:border-gray-700"},ye={class:"space-y-1"},we=["value"],Le={__name:"Edit",props:{title:String,product:Object,breadcrumbs:Object,categories:Object},setup(b){const V=y(L),C=y({}),i=b,s=S({category_id:i.product.category_id,name:i.product.name,slug:i.product.slug,price:i.product.price,unit:i.product.unit,min_order:i.product.min_order,description:i.product.description?i.product.description:"",is_featured:i.product.is_featured,status:i.product.status,featured_image:null,_method:"PUT"});w(()=>s.name,o=>{s.slug=P(o)});let t=k(s);w(s,o=>{t=k(o)});const h=()=>{var o;t.post(route("products.update",(o=i.product)==null?void 0:o.id),{preserveScroll:!0,onSuccess:()=>null,onError:()=>null,onFinish:()=>null})},U=o=>{o.source==="featured_image"&&(s.featured_image=o.file)};return(o,d)=>{const j=B("ckeditor");return p(),$(q,{title:i.title},{default:x(()=>{var v;return[r(I,{breadcrumbs:i.breadcrumbs},null,8,["breadcrumbs"]),e("div",Y,[e("div",z,[e("form",{onSubmit:F(h,["prevent"]),class:"flex flex-col gap-2"},[e("div",A,[e("div",G,[e("div",H,[r(u,{for:"name",value:o.lang().label.name},null,8,["value"]),r(c,{id:"name",modelValue:s.name,"onUpdate:modelValue":d[0]||(d[0]=a=>s.name=a),type:"text",class:"block w-full",autocomplete:"name",placeholder:o.lang().placeholder.name,error:l(t).errors.name},null,8,["modelValue","placeholder","error"]),r(n,{message:l(t).errors.name},null,8,["message"])]),e("div",J,[r(u,{for:"slug",value:o.lang().label.slug},null,8,["value"]),r(c,{id:"slug",modelValue:s.slug,"onUpdate:modelValue":d[1]||(d[1]=a=>s.slug=a),type:"text",class:"block w-full",autocomplete:"slug",placeholder:o.lang().placeholder.slug,error:l(t).errors.slug},null,8,["modelValue","placeholder","error"]),r(n,{message:l(t).errors.slug},null,8,["message"])])]),e("div",K,[e("button",{disabled:l(t).processing,onClick:h,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-2 focus:ring-blue-300 px-3 font-sans rounded-md text-sm dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 col-span-1 w-full"},m(o.lang().button.update)+" "+m(l(t).processing?"...":""),9,Q),r(l(N),{href:o.route("products.index"),class:"text-white bg-slate-600 hover:bg-slate-700 focus:ring-2 focus:ring-blue-300 font-sans rounded-md text-sm px-5 py-3 dark:bg-slate-500 dark:hover:bg-slate-600 dark:focus:ring-slate-700 text-center items-center col-span-1 w-full"},{default:x(()=>[D(" Cancel ")]),_:1},8,["href"])])]),e("div",R,[e("div",W,[r(u,{for:"status",value:o.lang().label.description},null,8,["value"]),r(j,{editor:V.value,id:"description",modelValue:s.description,"onUpdate:modelValue":d[2]||(d[2]=a=>s.description=a),config:C.value},null,8,["editor","modelValue","config"]),r(n,{message:l(t).errors.description},null,8,["message"])]),e("div",X,[e("div",Z,[ee,e("div",re,[e("div",oe,[e("div",se,[r(u,{for:"category_id",value:o.lang().label.category},null,8,["value"]),g(e("select",{"onUpdate:modelValue":d[3]||(d[3]=a=>s.category_id=a),id:"category_id",name:"category_id",class:"block w-full h-8 py-0 text-sm"},[(p(!0),f(E,null,M(b.categories,a=>(p(),f("option",{key:a.id,value:a.id},m(a.name),9,ae))),128))],512),[[_,s.category_id]]),r(n,{message:l(t).errors.category_id},null,8,["message"])]),e("div",te,[r(u,{for:"status",value:o.lang().label.status},null,8,["value"]),g(e("select",{"onUpdate:modelValue":d[4]||(d[4]=a=>s.status=a),id:"status",name:"status",class:"block w-full h-8 py-0 text-sm"},ne,512),[[_,s.status]]),r(n,{message:l(t).errors.status},null,8,["message"])]),e("div",ue,[r(u,{for:"is_featured",value:o.lang().label.is_featured},null,8,["value"]),g(e("select",{"onUpdate:modelValue":d[5]||(d[5]=a=>s.is_featured=a),id:"is_featured",name:"is_featured",class:"block w-full h-8 py-0 text-sm"},me,512),[[_,s.is_featured]]),r(n,{message:l(t).errors.is_featured},null,8,["message"])]),e("div",ge,[r(u,{for:"price",value:o.lang().label.price},null,8,["value"]),r(c,{id:"price",modelValue:s.price,"onUpdate:modelValue":d[6]||(d[6]=a=>s.price=a),type:"text",class:"block w-full h-8 py-0 text-sm",autocomplete:"password",placeholder:o.lang().placeholder.price,error:l(t).errors.price},null,8,["modelValue","placeholder","error"]),r(n,{message:l(t).errors.price},null,8,["message"])]),e("div",fe,[r(u,{for:"unit",value:o.lang().label.unit},null,8,["value"]),r(c,{id:"unit",modelValue:s.unit,"onUpdate:modelValue":d[7]||(d[7]=a=>s.unit=a),type:"text",class:"block w-full h-8 py-0 text-sm",autocomplete:"password",placeholder:o.lang().placeholder.unit,error:l(t).errors.unit},null,8,["modelValue","placeholder","error"]),r(n,{message:l(t).errors.unit},null,8,["message"])]),e("div",_e,[r(u,{for:"min_order",value:o.lang().label.min_order},null,8,["value"]),r(c,{id:"min_order",modelValue:s.min_order,"onUpdate:modelValue":d[8]||(d[8]=a=>s.min_order=a),type:"text",class:"block w-full h-8 py-0 text-sm",autocomplete:"password",placeholder:o.lang().placeholder.min_order,error:l(t).errors.min_order},null,8,["modelValue","placeholder","error"]),r(n,{message:l(t).errors.min_order},null,8,["message"])])])]),be,e("div",he,[e("div",ve,[e("div",ye,[r(T,{source:"featured_image",modelValue:s.featured_image,"onUpdate:modelValue":d[9]||(d[9]=a=>s.featured_image=a),image:(v=i.product.media[0])==null?void 0:v.original_url,class:"mt-1 block w-44 h-44",onFileChange:U},null,8,["modelValue","image"]),r(n,{message:l(t).errors.featured_image,class:"mt-2"},null,8,["message"]),l(t).progress?(p(),f("progress",{key:0,value:l(t).progress.percentage,max:"100"},m(l(t).progress.percentage)+"% ",9,we)):O("",!0)])])])])])])],32)])])]}),_:1},8,["title"])}}};export{Le as default};
