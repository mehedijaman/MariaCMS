import{E as S,r as N,h as D,i as g,T as h,o as v,d as b,b as s,w as i,u as t,a,t as u,m as V,e as f,g as F,j as w,C as y,n as j}from"./app-45c1fa09.js";import{_ as B}from"./DialogModal-a0641e4b.js";import{_ as d}from"./InputError-43ea7f75.js";import{_ as m}from"./InputLabel-056a23eb.js";import{_ as E}from"./ImageInput-2bc739e0.js";import{_ as k}from"./PrimaryButton-b921ab23.js";import{_ as M}from"./SecondaryButton-071ca990.js";import{_ as C}from"./TextInput-7f45e80c.js";import{_ as T}from"./TextAreaInput-6fc7a8d4.js";import{g as I}from"./textHelper-8b1dfc94.js";import{r as z}from"./PlusIcon-4b0e953f.js";import"./Modal-e31d547a.js";import"./XMarkIcon-90ada5e1.js";const P={class:"hidden md:block"},q={class:"grid grid-cols-1 md:grid-cols-3 space-x-4"},x={class:"col-span-1"},A={class:"space-y-1"},G=["value"],H={class:"space-y-1"},J=a("option",{value:"1"},"Featured",-1),K=a("option",{value:"0"},"Not Featured",-1),L=[J,K],O={class:"grid-cols-1 md:col-span-2"},Q={class:"space-y-1"},R={class:"space-y-1"},W={class:"space-y-1"},X=a("option",{value:"1"},"Published",-1),Y=a("option",{value:"0"},"Unpublished",-1),Z=a("option",{value:null},"Draft",-1),ee=[X,Y,Z],se={class:"space-y-1"},ge={__name:"Create",setup(le){const $=S("updateItems"),c=N(!1),o=D({thumbnail:null,name:null,url:null,description:null,is_featured:0,status:1});g(()=>o.name,e=>{o.slug=I(e)});let l=h(o);g(o,e=>{l=h(e)});const _=()=>{l.post(route("videos.store"),{preserveScroll:!0,onSuccess:e=>{$(e.props.videos),p()},onError:()=>null,onFinish:()=>null})},p=()=>{c.value=!1,l.errors={},l.reset()},U=e=>{e.source==="thumbnail"&&(o.thumbnail=e.file)};return(e,r)=>(v(),b("div",null,[s(k,{class:"flex rounded-none items-center justify-start gap-2",onClick:r[0]||(r[0]=V(n=>c.value=!0,["prevent"]))},{default:i(()=>[s(t(z),{class:"w-4 h-auto"}),a("span",P,u(e.lang().label.add),1)]),_:1}),s(B,{show:c.value,onClose:p,"max-width":"2xl"},{title:i(()=>[f(u(e.lang().label.add),1)]),content:i(()=>[a("form",{class:"space-y-2",onSubmit:V(_,["prevent"])},[a("div",q,[a("div",x,[a("div",A,[s(m,{for:"thumbnail",value:"Thumbnail"}),s(E,{source:"thumbnail",modelValue:o.thumbnail,"onUpdate:modelValue":r[1]||(r[1]=n=>o.thumbnail=n),class:"mt-1 block w-auto h-48",onFileChange:U},null,8,["modelValue"]),s(d,{message:t(l).errors.thumbnail,class:"mt-2"},null,8,["message"]),t(l).progress?(v(),b("progress",{key:0,value:t(l).progress.percentage,max:"100"},u(t(l).progress.percentage)+"% ",9,G)):F("",!0)]),a("div",H,[s(m,{for:"is_featured",value:e.lang().label.is_featured},null,8,["value"]),w(a("select",{"onUpdate:modelValue":r[2]||(r[2]=n=>o.is_featured=n),id:"is_featured",name:"is_featured",class:"block w-full"},L,512),[[y,o.is_featured]]),s(d,{message:t(l).errors.is_featured},null,8,["message"])])]),a("div",O,[a("div",Q,[s(m,{for:"name",value:e.lang().label.name},null,8,["value"]),s(C,{id:"name",modelValue:o.name,"onUpdate:modelValue":r[3]||(r[3]=n=>o.name=n),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.name,error:t(l).errors.name},null,8,["modelValue","placeholder","error"]),s(d,{message:t(l).errors.name},null,8,["message"])]),a("div",R,[s(m,{for:"url",value:e.lang().label.url},null,8,["value"]),s(C,{id:"url",modelValue:o.url,"onUpdate:modelValue":r[4]||(r[4]=n=>o.url=n),type:"text",class:"block w-full",autocomplete:"url",placeholder:e.lang().placeholder.url,error:t(l).errors.url},null,8,["modelValue","placeholder","error"]),s(d,{message:t(l).errors.url},null,8,["message"])]),a("div",W,[s(m,{for:"status",value:e.lang().label.status},null,8,["value"]),w(a("select",{"onUpdate:modelValue":r[5]||(r[5]=n=>o.status=n),id:"status",name:"status",class:"block w-full"},ee,512),[[y,o.status]]),s(d,{message:t(l).errors.status},null,8,["message"])]),a("div",se,[s(m,{for:"slug",value:e.lang().label.description},null,8,["value"]),s(T,{id:"slug",modelValue:o.description,"onUpdate:modelValue":r[6]||(r[6]=n=>o.description=n),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:t(l).errors.desctiption},null,8,["modelValue","placeholder","error"]),s(d,{message:t(l).errors.description},null,8,["message"])])])])],32)]),footer:i(()=>[s(M,{onClick:p},{default:i(()=>[f(u(e.lang().button.cancel),1)]),_:1}),s(k,{class:j(["ml-3",{"opacity-25":t(l).processing}]),disabled:t(l).processing,onClick:_},{default:i(()=>[f(u(e.lang().button.save)+" "+u(t(l).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ge as default};
