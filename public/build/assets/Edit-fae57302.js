import{E as I,r as P,h as z,i as k,T as C,o as $,d as U,b as s,w as u,u as r,m as S,e as g,t as m,a as o,g as O,j as N,C as D,n as q}from"./app-41a1d8f2.js";import{_ as x}from"./DialogModal-d4c49218.js";import{_ as d}from"./InputError-16bd74d2.js";import{_ as c}from"./InputLabel-2f5450e1.js";import{_ as A}from"./ImageInput-45166370.js";import{_ as G}from"./ActionButton-55ac4b36.js";import{_ as H}from"./PrimaryButton-8ca9f46a.js";import{_ as J}from"./SecondaryButton-1cee5f88.js";import{_ as E}from"./TextInput-a0dbf631.js";import{_ as K}from"./TextAreaInput-dba5272b.js";import{g as L}from"./textHelper-8b1dfc94.js";import{r as Q}from"./PencilIcon-4cd8dd86.js";import"./Modal-d8ae855a.js";import"./XMarkIcon-69a4576f.js";const R={class:"grid grid-cols-1 md:grid-cols-3 space-x-2"},W={class:"col-span-1"},X={class:"space-y-1"},Y=["value"],Z={class:"space-y-1"},ee=o("option",{value:"1"},"Featured",-1),se=o("option",{value:"0"},"Not Featured",-1),le=[ee,se],ae={class:"grid-cols-1 md:col-span-2"},oe={class:"space-y-1"},te={class:"space-y-1"},re={class:"space-y-1"},ie=o("option",{value:"1"},"Published",-1),ne=o("option",{value:"0"},"Unpublished",-1),ue=o("option",{value:null},"Draft",-1),me=[ie,ne,ue],de={class:"space-y-1"},Ue={__name:"Edit",props:{title:String,item:Object},emits:["open"],setup(F,{emit:T}){var h,b,V,w,y;const j=I("updateItems"),B=T,p=P(!1),n=F,a=z({thumbnail:null,name:(h=n.item)==null?void 0:h.name,url:(b=n.item)==null?void 0:b.url,description:(V=n.item)==null?void 0:V.description,is_featured:(w=n.item)==null?void 0:w.is_featured,status:(y=n.item)==null?void 0:y.status,_method:"PUT"});k(()=>a.name,e=>{a.slug=L(e)});let l=C(a);k(a,e=>{l=C(e)});const v=()=>{var e;l.post(route("videos.update",(e=n.item)==null?void 0:e.id),{preserveScroll:!0,onSuccess:t=>{f(),j(t.props.videos)},onError:()=>null,onFinish:()=>null})},f=()=>{p.value=!1,l.errors={},l.reset()},M=e=>{e.source==="thumbnail"&&(a.thumbnail=e.file)};return(e,t)=>($(),U("div",null,[s(G,{onClick:t[0]||(t[0]=S(_=>(p.value=!0,B("open")),["prevent"]))},{default:u(()=>[s(r(Q),{class:"w-4 h-auto"})]),_:1}),s(x,{show:p.value,onClose:f,"max-width":"2xl"},{title:u(()=>[g(m(e.lang().label.edit)+" "+m(n.title),1)]),content:u(()=>{var _;return[o("form",{class:"space-y-2",onSubmit:S(v,["prevent"])},[o("div",R,[o("div",W,[o("div",X,[s(c,{for:"thumbnail",value:"Thumbnail"}),s(A,{source:"thumbnail",modelValue:a.thumbnail,"onUpdate:modelValue":t[1]||(t[1]=i=>a.thumbnail=i),class:"mt-1 block w-auto h-48",image:(_=n.item.media[0])==null?void 0:_.original_url,onFileChange:M},null,8,["modelValue","image"]),s(d,{message:r(l).errors.thumbnail,class:"mt-2"},null,8,["message"]),r(l).progress?($(),U("progress",{key:0,value:r(l).progress.percentage,max:"100"},m(r(l).progress.percentage)+"% ",9,Y)):O("",!0)]),o("div",Z,[s(c,{for:"is_featured",value:e.lang().label.is_featured},null,8,["value"]),N(o("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>a.is_featured=i),id:"is_featured",name:"is_featured",class:"block w-full"},le,512),[[D,a.is_featured]]),s(d,{message:r(l).errors.is_featured},null,8,["message"])])]),o("div",ae,[o("div",oe,[s(c,{for:"name",value:e.lang().label.name},null,8,["value"]),s(E,{id:"name",modelValue:a.name,"onUpdate:modelValue":t[3]||(t[3]=i=>a.name=i),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.gallery_name,error:r(l).errors.name},null,8,["modelValue","placeholder","error"]),s(d,{message:r(l).errors.name},null,8,["message"])]),o("div",te,[s(c,{for:"url",value:e.lang().label.url},null,8,["value"]),s(E,{id:"url",modelValue:a.url,"onUpdate:modelValue":t[4]||(t[4]=i=>a.url=i),type:"text",class:"block w-full",autocomplete:"url",placeholder:e.lang().placeholder.url,error:r(l).errors.url},null,8,["modelValue","placeholder","error"]),s(d,{message:r(l).errors.url},null,8,["message"])]),o("div",re,[s(c,{for:"status",value:e.lang().label.status},null,8,["value"]),N(o("select",{"onUpdate:modelValue":t[5]||(t[5]=i=>a.status=i),id:"status",name:"status",class:"block w-full"},me,512),[[D,a.status]]),s(d,{message:r(l).errors.status},null,8,["message"])]),o("div",de,[s(c,{for:"slug",value:e.lang().label.description},null,8,["value"]),s(K,{id:"slug",modelValue:a.description,"onUpdate:modelValue":t[6]||(t[6]=i=>a.description=i),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:r(l).errors.desctiption},null,8,["modelValue","placeholder","error"]),s(d,{message:r(l).errors.description},null,8,["message"])])])])],32)]}),footer:u(()=>[s(J,{onClick:f},{default:u(()=>[g(m(e.lang().button.cancel),1)]),_:1}),s(H,{class:q(["ml-3",{"opacity-25":r(l).processing}]),disabled:r(l).processing,onClick:v},{default:u(()=>[g(m(e.lang().button.save)+" "+m(r(l).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Ue as default};
