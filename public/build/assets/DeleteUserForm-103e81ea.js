import{r as p,T as g,o as b,c as v,w as s,e as a,t as o,a as d,b as l,u as r,_ as h,n as k}from"./app-d9a7eb7a.js";import{_ as y}from"./ActionSection-f342204f.js";import{_}from"./DangerButton-8b979788.js";import{_ as C}from"./DialogModal-6f025864.js";import{_ as V}from"./InputError-19c360d7.js";import{_ as $}from"./SecondaryButton-cb1663f8.js";import{_ as U}from"./TextInput-0d35b9b5.js";import"./SectionTitle-e9f36158.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-2710b0e7.js";import"./XMarkIcon-ece63d39.js";const D={class:"max-w-xl text-sm text-slate-600 dark:text-slate-400"},B={class:"mt-5"},N={class:"mt-4"},A={__name:"DeleteUserForm",setup(S){const n=p(!1),c=p(null),e=g({password:""}),f=()=>{n.value=!0,setTimeout(()=>c.value.focus(),250)},m=()=>{e.delete(route("current-user.destroy"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>c.value.focus(),onFinish:()=>e.reset()})},i=()=>{n.value=!1,e.reset()};return(t,u)=>(b(),v(y,null,{title:s(()=>[a(o(t.lang().label.delete_account),1)]),description:s(()=>[a(o(t.lang().label.delete_account_description),1)]),content:s(()=>[d("div",D,o(t.lang().label.delete_account_content),1),d("div",B,[l(_,{onClick:f},{default:s(()=>[a(o(t.lang().button.delete_account),1)]),_:1})]),l(C,{show:n.value,onClose:i},{title:s(()=>[a(o(t.lang().label.delete_account),1)]),content:s(()=>[a(o(t.lang().label.delete_account_confirm)+" ",1),d("div",N,[l(U,{ref_key:"passwordInput",ref:c,modelValue:r(e).password,"onUpdate:modelValue":u[0]||(u[0]=w=>r(e).password=w),type:"password",class:"mt-1 block w-full",placeholder:"Password",autocomplete:"current-password",onKeyup:h(m,["enter"]),error:r(e).errors.password},null,8,["modelValue","error"]),l(V,{message:r(e).errors.password,class:"mt-2"},null,8,["message"])])]),footer:s(()=>[l($,{onClick:i},{default:s(()=>[a(o(t.lang().button.cancel),1)]),_:1}),l(_,{class:k(["ml-3",{"opacity-25":r(e).processing}]),disabled:r(e).processing,onClick:m},{default:s(()=>[a(o(t.lang().button.delete_account)+" "+o(r(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{A as default};
