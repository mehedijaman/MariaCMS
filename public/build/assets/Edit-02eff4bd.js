import{E as h,r as O,h as q,i as S,T as N,o as g,d as p,b as e,w as c,u as s,m as T,e as k,t as n,a as o,g as A,j as y,F as G,f as H,C as v,n as J}from"./app-c4f5b0ab.js";import{_ as K}from"./DialogModal-ead8dcea.js";import{_ as i}from"./InputError-85854109.js";import{_ as m}from"./InputLabel-d739c1d0.js";import{_ as Q}from"./ActionButton-841fd9c8.js";import{_ as R}from"./PrimaryButton-458f03b6.js";import{_ as W}from"./SecondaryButton-73139509.js";import{_ as D}from"./TextInput-776fb8b7.js";import{_ as X}from"./ImageInput-22c042be.js";import{_ as Y}from"./TextAreaInput-215a2aad.js";import{g as Z,t as ee}from"./textHelper-8b1dfc94.js";import{r as re}from"./PencilIcon-3be4436b.js";import"./Modal-cad72a07.js";import"./XMarkIcon-c9c2e3cc.js";const ae={class:"grid grid-cols-1 md:grid-cols-3 space-x-2"},se={class:"col-span-1"},le=["value"],oe={class:"col-span-1 md:col-span-2"},te={class:"w-full"},de=["value"],ue={class:"space-y-1"},ne={class:"space-y-1"},ie={class:"flex flex-col md:flex-row gap-4"},me={class:"w-full"},ce=o("option",{value:"1"},"Featured",-1),ge=o("option",{value:"0"},"Not Featured",-1),pe=[ce,ge],be={class:"w-full"},fe=o("option",{value:"1"},"Published",-1),_e=o("option",{value:"0"},"Unpublished",-1),he=o("option",{value:null},"Draft",-1),ke=[fe,_e,he],ye={class:"space-y-1"},Be={__name:"Edit",props:{item:Object},emits:["open"],setup(E,{emit:j}){var x,V,C,$,U,F;const B=h("updateItems"),M=h("product_categories"),I=h("title"),P=j,b=O(!1),u=E,l=q({thumbnail:null,name:(x=u.item)==null?void 0:x.name,slug:(V=u.item)==null?void 0:V.slug,description:(C=u.item)==null?void 0:C.description,parent_id:($=u.item)==null?void 0:$.parent_id,is_featured:(U=u.item)==null?void 0:U.is_featured,status:(F=u.item)==null?void 0:F.status,_method:"PUT"});S(()=>l.name,r=>{l.slug=Z(r)});let a=N(l);S(l,r=>{a=N(r)});const w=()=>{var r;a.post(route("product-categories.update",(r=u.item)==null?void 0:r.id),{preserveScroll:!0,onSuccess:t=>{f(),B(t.props.product_categories)},onError:()=>null,onFinish:()=>null})},f=()=>{b.value=!1,a.errors={},a.reset()},z=r=>{r.source==="thumbnail"&&(l.thumbnail=r.file)};return(r,t)=>(g(),p("div",null,[e(Q,{onClick:t[0]||(t[0]=T(_=>(b.value=!0,P("open")),["prevent"]))},{default:c(()=>[e(s(re),{class:"w-4 h-auto"})]),_:1}),e(K,{show:b.value,onClose:f,"max-width":"xl"},{title:c(()=>[k(n(r.lang().label.edit)+" "+n(s(I)),1)]),content:c(()=>{var _;return[o("form",{class:"space-y-2",onSubmit:T(w,["prevent"])},[o("div",ae,[o("div",se,[e(m,{for:"thumbnail",value:"Thumbnail"}),e(X,{source:"thumbnail",modelValue:l.thumbnail,"onUpdate:modelValue":t[1]||(t[1]=d=>l.thumbnail=d),class:"mt-1 block w-44 h-44",image:(_=u.item.media[0])==null?void 0:_.original_url,onFileChange:z},null,8,["modelValue","image"]),e(i,{message:s(a).errors.thumbnail,class:"mt-2"},null,8,["message"]),s(a).progress?(g(),p("progress",{key:0,value:s(a).progress.percentage,max:"100"},n(s(a).progress.percentage)+"% ",9,le)):A("",!0)]),o("div",oe,[o("div",te,[e(m,{for:"parent_id",value:r.lang().label.parent},null,8,["value"]),y(o("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>l.parent_id=d),id:"parent_id",name:"parent_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(g(!0),p(G,null,H(s(M),(d,L)=>(g(),p("option",{key:L,value:d.id},n(s(ee)(d.name)),9,de))),128))],512),[[v,l.parent_id]]),e(i,{message:s(a).errors.parent_id},null,8,["message"])]),o("div",ue,[e(m,{for:"name",value:r.lang().label.name},null,8,["value"]),e(D,{id:"name",modelValue:l.name,"onUpdate:modelValue":t[3]||(t[3]=d=>l.name=d),type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",autocomplete:"name",placeholder:r.lang().placeholder.name,error:s(a).errors.name},null,8,["modelValue","placeholder","error"]),e(i,{message:s(a).errors.name},null,8,["message"])]),o("div",ne,[e(m,{for:"slug",value:r.lang().label.slug},null,8,["value"]),e(D,{id:"slug",modelValue:l.slug,"onUpdate:modelValue":t[4]||(t[4]=d=>l.slug=d),type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",autocomplete:"slug",placeholder:r.lang().placeholder.slug,error:s(a).errors.slug},null,8,["modelValue","placeholder","error"]),e(i,{message:s(a).errors.slug},null,8,["message"])]),o("div",ie,[o("div",me,[e(m,{for:"is_featured",value:r.lang().label.is_featured},null,8,["value"]),y(o("select",{"onUpdate:modelValue":t[5]||(t[5]=d=>l.is_featured=d),id:"is_featured",name:"is_featured",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},pe,512),[[v,l.is_featured]]),e(i,{message:s(a).errors.is_featured},null,8,["message"])]),o("div",be,[e(m,{for:"status",value:r.lang().label.status},null,8,["value"]),y(o("select",{"onUpdate:modelValue":t[6]||(t[6]=d=>l.status=d),id:"status",name:"status",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ke,512),[[v,l.status]]),e(i,{message:s(a).errors.status},null,8,["message"])])])])]),o("div",ye,[e(m,{for:"slug",value:r.lang().label.description},null,8,["value"]),e(Y,{id:"slug",modelValue:l.description,"onUpdate:modelValue":t[7]||(t[7]=d=>l.description=d),type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",autocomplete:"description",placeholder:r.lang().placeholder.description,error:s(a).errors.desctiption},null,8,["modelValue","placeholder","error"]),e(i,{message:s(a).errors.description},null,8,["message"])])],32)]}),footer:c(()=>[e(W,{onClick:f},{default:c(()=>[k(n(r.lang().button.cancel),1)]),_:1}),e(R,{class:J(["ml-3",{"opacity-25":s(a).processing}]),disabled:s(a).processing,onClick:w},{default:c(()=>[k(n(r.lang().button.save)+" "+n(s(a).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Be as default};
