import{E as b,r as H,h as J,T as N,i as K,o as u,d,b as t,w as c,u as o,m as T,e as k,t as m,a as r,j as U,F as p,f as w,g as j,C as D,n as P}from"./app-c4f5b0ab.js";import{_ as Q}from"./DialogModal-ead8dcea.js";import{_ as g}from"./InputError-85854109.js";import{_ as f}from"./InputLabel-d739c1d0.js";import{_ as R}from"./ActionButton-841fd9c8.js";import{_ as W}from"./PrimaryButton-458f03b6.js";import{_ as X}from"./SecondaryButton-73139509.js";import{_ as F}from"./TextInput-776fb8b7.js";import{r as Y}from"./PencilIcon-3be4436b.js";import"./Modal-cad72a07.js";import"./XMarkIcon-c9c2e3cc.js";const Z={class:"grid grid-cols-3 items-center"},x=r("option",{value:null},"/",-1),ee=["value"],te=["value"],ae=["value"],se={class:"grid grid-cols-3 items-center"},le={class:"grid grid-cols-3 items-center"},re={class:"grid grid-cols-3 items-center"},oe=r("option",{value:null},"Self Tab",-1),ne=r("option",{value:"_blank"},"Blank Tab",-1),ie=[oe,ne],ke={__name:"Edit",props:{title:String,item:Object},emits:["open"],setup(M,{emit:I}){var y,C,$,S,B;const z=b("updateItems");b("menu");const L=b("items"),O=I,v=H(!1),i=M,n=J({menu_id:(y=i.item)==null?void 0:y.menu_id,parent_id:(C=i.item)==null?void 0:C.parent_id,name:($=i.item)==null?void 0:$.name,url:(S=i.item)==null?void 0:S.url,target:(B=i.item)==null?void 0:B.target});let a=N(n);K(n,s=>{a=N(s)});const V=()=>{var s,l;a.put(route("menu.items.update",{menu:(s=i.item)==null?void 0:s.menu_id,item:(l=i.item)==null?void 0:l.id}),{preserveScroll:!0,onSuccess:e=>{h(),z(e.props.items)},onError:()=>null,onFinish:()=>null})},h=()=>{v.value=!1,a.errors={},a.reset()};return(s,l)=>(u(),d("div",null,[t(R,{variant:"warning",onClick:l[0]||(l[0]=T(e=>(v.value=!0,O("open")),["prevent"]))},{default:c(()=>[t(o(Y),{class:"w-4 h-auto"})]),_:1}),t(Q,{show:v.value,onClose:h,"max-width":"md"},{title:c(()=>[k(m(s.lang().label.edit)+" "+m(i.title),1)]),content:c(()=>[r("form",{class:"space-y-2",onSubmit:T(V,["prevent"])},[r("div",Z,[t(f,{for:"parent_id",value:s.lang().label.parent,class:"col-span-1 items-center"},null,8,["value"]),U(r("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>n.parent_id=e),id:"parent_id",name:"parent_id",class:"block w-full h-9 col-span-2"},[x,(u(!0),d(p,null,w(o(L),(e,q)=>(u(),d(p,{key:q},[r("option",{value:e.id},m(e.name),9,ee),e.children?(u(!0),d(p,{key:0},w(e.children,(_,A)=>(u(),d(p,{key:A},[r("option",{value:_.id,class:"ml-12"},"    - "+m(_.name),9,te),_.children?(u(!0),d(p,{key:0},w(_.children,(E,G)=>(u(),d("option",{key:G,value:E.id},"        - "+m(E.name),9,ae))),128)):j("",!0)],64))),128)):j("",!0)],64))),128))],512),[[D,n.parent_id]]),t(g,{message:o(a).errors.parent_id},null,8,["message"])]),r("div",se,[t(f,{for:"name",value:s.lang().label.name,class:"col-span-1"},null,8,["value"]),t(F,{id:"name",modelValue:n.name,"onUpdate:modelValue":l[2]||(l[2]=e=>n.name=e),type:"text",class:"block w-full h-9 col-span-2",autocomplete:"name",placeholder:s.lang().placeholder.menu_name,error:o(a).errors.name},null,8,["modelValue","placeholder","error"]),t(g,{message:o(a).errors.name},null,8,["message"])]),r("div",le,[t(f,{for:"url",value:s.lang().label.url,class:"col-span-1"},null,8,["value"]),t(F,{id:"url",modelValue:n.url,"onUpdate:modelValue":l[3]||(l[3]=e=>n.url=e),type:"text",class:"block w-full h-9 col-span-2",autocomplete:"url",placeholder:"https://",error:o(a).errors.url},null,8,["modelValue","error"]),t(g,{message:o(a).errors.url},null,8,["message"])]),r("div",re,[t(f,{for:"target",value:s.lang().label.target,class:"col-span-1 items-center"},null,8,["value"]),U(r("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>n.target=e),id:"target",name:"target",class:"block w-full h-9 col-span-2"},ie,512),[[D,n.target]]),t(g,{message:o(a).errors.target},null,8,["message"])])],32)]),footer:c(()=>[t(X,{onClick:h},{default:c(()=>[k(m(s.lang().button.cancel),1)]),_:1}),t(W,{class:P(["ml-3",{"opacity-25":o(a).processing}]),disabled:o(a).processing,onClick:V},{default:c(()=>[k(m(s.lang().button.save)+" "+m(o(a).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ke as default};
