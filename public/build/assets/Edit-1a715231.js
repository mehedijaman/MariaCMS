import{r as v,h as S,i as y,T as k,q as B,o as c,c as $,w,b as a,a as e,m as F,u as l,t as g,s as N,e as D,j as m,d as p,F as E,f as M,C as f,g as O}from"./app-40e302ae.js";import{_ as n}from"./InputError-54276dc2.js";import{_ as u}from"./InputLabel-99c3d693.js";import{_ as x}from"./TextInput-e0c63212.js";import{_ as T}from"./ImageInput-c9c1a446.js";import{g as P}from"./textHelper-8b1dfc94.js";import{_ as q}from"./AppLayout-41e5c864.js";import{_ as I}from"./Breadcrumb-d50aa64f.js";import{C as L}from"./ckeditor-248e791f.js";import"./Toast-55aefdbe.js";/* empty css                                              */import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-5aea3a76.js";import"./ApplicationLogo-f456f601.js";import"./SwitchLocale-96c25329.js";import"./index-316c9229.js";/* empty css                                               */const Y={class:"p-4"},z={class:"w-full mx-auto bg-white p-4"},A={class:"grid grid-cols-5 gap-2"},G={class:"col-span-4 grid grid-cols-2 gap-2"},H={class:"col-span-1"},J={class:"col-span-1"},K={class:"col-span-1 flex gap-1 h-fit"},Q=["disabled"],R={class:"grid grid-cols-5 gap-2"},W={class:"col-span-4 bg-white dark:bg-slate-800 overflow-hidden shadow rounded-lg"},X={class:"col-span-1 bg-white dark:bg-slate-800 overflow-hidden shadow rounded-md text-sm"},Z={id:"accordion-open","data-accordion":"open"},ee=e("h2",{id:"accordion-open-heading-1"},[e("button",{type:"button",class:"flex items-center justify-between w-full p-2 font-sans rtl:text-right text-gray-800 border border-b-0 border-gray-200 focus:ring-2 focus:ring-red-300 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3","data-accordion-target":"#product-summary","aria-expanded":"true","aria-controls":"product-summary"},[e("span",{class:"flex items-center"},"Summary"),e("svg",{"data-accordion-icon":"",class:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"})])])],-1),se={id:"product-summary",class:"hidden","aria-labelledby":"accordion-open-heading-1"},oe={class:"p-2 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900"},ae={class:"space-y-1"},re=["value"],te={class:"space-y-1"},le=e("option",{value:"1"},"Published",-1),de=e("option",{value:"0"},"Unpublished",-1),ie=e("option",{value:null},"Draft",-1),ne=[le,de,ie],ue={class:"space-y-1"},ce=e("option",{value:"1"},"Yes",-1),ge=e("option",{value:"0"},"No",-1),me=[ce,ge],pe=e("h2",{id:"accordion-open-heading-3"},[e("button",{type:"button",class:"flex items-center justify-between w-full p-2 font-sans rtl:text-right text-gray-800 border border-gray-200 focus:ring-2 focus:ring-red-300 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3","data-accordion-target":"#product-featured-image","aria-expanded":"true","aria-controls":"product-featured-image"},[e("span",{class:"flex items-center"},"Featured Image"),e("svg",{"data-accordion-icon":"",class:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"})])])],-1),fe={id:"product-featured-image",class:"hidden","aria-labelledby":"accordion-open-heading-3"},_e={class:"p-2 border border-t-0 border-gray-200 dark:border-gray-700"},be={class:"space-y-1"},he=["value"],Oe={__name:"Edit",props:{title:String,product:Object,breadcrumbs:Object,categories:Object},setup(_){const V=v(L),C=v({}),i=_,o=S({category_id:i.product.category_id,name:i.product.name,slug:i.product.slug,description:i.product.description,is_featured:i.product.is_featured,status:i.product.status,featured_image:null,_method:"PUT"});y(()=>o.name,s=>{o.slug=P(s)});let t=k(o);y(o,s=>{t=k(s)});const b=()=>{var s;t.post(route("products.update",(s=i.product)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>null,onError:()=>null,onFinish:()=>null})},U=s=>{s.source==="featured_image"&&(o.featured_image=s.file)};return(s,d)=>{const j=B("ckeditor");return c(),$(q,{title:i.title},{default:w(()=>{var h;return[a(I,{breadcrumbs:i.breadcrumbs},null,8,["breadcrumbs"]),e("div",Y,[e("div",z,[e("form",{onSubmit:F(b,["prevent"]),class:"flex flex-col gap-2"},[e("div",A,[e("div",G,[e("div",H,[a(u,{for:"name",value:s.lang().label.name},null,8,["value"]),a(x,{id:"name",modelValue:o.name,"onUpdate:modelValue":d[0]||(d[0]=r=>o.name=r),type:"text",class:"block w-full",autocomplete:"name",placeholder:s.lang().placeholder.name,error:l(t).errors.name},null,8,["modelValue","placeholder","error"]),a(n,{message:l(t).errors.name},null,8,["message"])]),e("div",J,[a(u,{for:"slug",value:s.lang().label.slug},null,8,["value"]),a(x,{id:"slug",modelValue:o.slug,"onUpdate:modelValue":d[1]||(d[1]=r=>o.slug=r),type:"text",class:"block w-full",autocomplete:"slug",placeholder:s.lang().placeholder.slug,error:l(t).errors.slug},null,8,["modelValue","placeholder","error"]),a(n,{message:l(t).errors.slug},null,8,["message"])])]),e("div",K,[e("button",{disabled:l(t).processing,onClick:b,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-2 focus:ring-blue-300 px-3 font-sans rounded-md text-sm dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 col-span-1 w-full"},g(s.lang().button.update)+" "+g(l(t).processing?"...":""),9,Q),a(l(N),{href:s.route("products.index"),class:"text-white bg-slate-600 hover:bg-slate-700 focus:ring-2 focus:ring-blue-300 font-sans rounded-md text-sm px-5 py-3 dark:bg-slate-500 dark:hover:bg-slate-600 dark:focus:ring-slate-700 text-center items-center col-span-1 w-full"},{default:w(()=>[D(" Cancel ")]),_:1},8,["href"])])]),e("div",R,[e("div",W,[a(u,{for:"status",value:s.lang().label.description},null,8,["value"]),a(j,{editor:V.value,id:"description",modelValue:o.description,"onUpdate:modelValue":d[2]||(d[2]=r=>o.description=r),config:C.value},null,8,["editor","modelValue","config"]),a(n,{message:l(t).errors.description},null,8,["message"])]),e("div",X,[e("div",Z,[ee,e("div",se,[e("div",oe,[e("div",ae,[a(u,{for:"category_id",value:s.lang().label.category},null,8,["value"]),m(e("select",{"onUpdate:modelValue":d[3]||(d[3]=r=>o.category_id=r),id:"category_id",name:"category_id",class:"block w-full h-8 py-0 text-sm"},[(c(!0),p(E,null,M(_.categories,r=>(c(),p("option",{key:r.id,value:r.id},g(r.name),9,re))),128))],512),[[f,o.category_id]]),a(n,{message:l(t).errors.category_id},null,8,["message"])]),e("div",te,[a(u,{for:"status",value:s.lang().label.status},null,8,["value"]),m(e("select",{"onUpdate:modelValue":d[4]||(d[4]=r=>o.status=r),id:"status",name:"status",class:"block w-full h-8 py-0 text-sm"},ne,512),[[f,o.status]]),a(n,{message:l(t).errors.status},null,8,["message"])]),e("div",ue,[a(u,{for:"is_featured",value:s.lang().label.is_featured},null,8,["value"]),m(e("select",{"onUpdate:modelValue":d[5]||(d[5]=r=>o.is_featured=r),id:"is_featured",name:"is_featured",class:"block w-full h-8 py-0 text-sm"},me,512),[[f,o.is_featured]]),a(n,{message:l(t).errors.is_featured},null,8,["message"])])])]),pe,e("div",fe,[e("div",_e,[e("div",be,[a(T,{source:"featured_image",modelValue:o.featured_image,"onUpdate:modelValue":d[6]||(d[6]=r=>o.featured_image=r),image:(h=i.product.media[0])==null?void 0:h.original_url,class:"mt-1 block w-44 h-44",onFileChange:U},null,8,["modelValue","image"]),a(n,{message:l(t).errors.featured_image,class:"mt-2"},null,8,["message"]),l(t).progress?(c(),p("progress",{key:0,value:l(t).progress.percentage,max:"100"},g(l(t).progress.percentage)+"% ",9,he)):O("",!0)])])])])])])],32)])])]}),_:1},8,["title"])}}};export{Oe as default};
