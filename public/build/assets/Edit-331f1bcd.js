import{E as w,r as F,h as M,i as V,T as k,o as f,d as v,b as s,w as i,u as t,m as y,e as _,t as u,a as n,j as C,F as N,f as T,C as $,n as I}from"./app-029d3c12.js";import{_ as z}from"./DialogModal-d0f6ace0.js";import{_ as m}from"./InputError-5ba87def.js";import{_ as d}from"./InputLabel-4b2acd49.js";import{_ as L}from"./ActionButton-0db8adf7.js";import{_ as O}from"./PrimaryButton-4a147dbe.js";import{_ as P}from"./SecondaryButton-c3ca0618.js";import{_ as b}from"./TextInput-f658579c.js";import{g as q,t as A}from"./textHelper-8b1dfc94.js";import{r as G}from"./PencilIcon-c6d05811.js";import"./Modal-0faaa9fe.js";import"./XMarkIcon-e53425f1.js";const H={class:"space-y-1"},J={class:"space-y-1"},K={class:"space-y-1"},Q={class:"space-y-1"},R=["value"],W={class:"space-y-1"},X=n("option",{value:"1"},"Published",-1),Y=n("option",{value:"0"},"Unpublished",-1),Z=n("option",{value:null},"Draft",-1),x=[X,Y,Z],pe={__name:"Edit",props:{title:String,item:Object},emits:["open"],setup(S,{emit:U}){const D=w("updateItems"),E=w("categories"),j=U,p=F(!1),c=S,a=M(c.item);V(()=>a.name,e=>{a.slug=q(e)});let l=k(a);V(a,e=>{l=k(e)});const h=()=>{var e;l.put(route("categories.update",(e=c.item)==null?void 0:e.id),{preserveScroll:!0,onSuccess:o=>{g(),D(o.props.categories)},onError:()=>null,onFinish:()=>null})},g=()=>{p.value=!1,l.errors={},l.reset()};return(e,o)=>(f(),v("div",null,[s(L,{onClick:o[0]||(o[0]=y(r=>(p.value=!0,j("open")),["prevent"]))},{default:i(()=>[s(t(G),{class:"w-4 h-auto"})]),_:1}),s(z,{show:p.value,onClose:g,"max-width":"md"},{title:i(()=>[_(u(e.lang().label.edit)+" "+u(c.title),1)]),content:i(()=>[n("form",{class:"space-y-2",onSubmit:y(h,["prevent"])},[n("div",H,[s(d,{for:"name",value:e.lang().label.name},null,8,["value"]),s(b,{id:"name",modelValue:a.name,"onUpdate:modelValue":o[1]||(o[1]=r=>a.name=r),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.menu_name,error:t(l).errors.name},null,8,["modelValue","placeholder","error"]),s(m,{message:t(l).errors.name},null,8,["message"])]),n("div",J,[s(d,{for:"slug",value:e.lang().label.slug},null,8,["value"]),s(b,{id:"slug",modelValue:a.slug,"onUpdate:modelValue":o[2]||(o[2]=r=>a.slug=r),type:"text",class:"block w-full",autocomplete:"slug",placeholder:e.lang().placeholder.slug,error:t(l).errors.slug},null,8,["modelValue","placeholder","error"]),s(m,{message:t(l).errors.slug},null,8,["message"])]),n("div",K,[s(d,{for:"slug",value:e.lang().label.description},null,8,["value"]),s(b,{id:"slug",modelValue:a.description,"onUpdate:modelValue":o[3]||(o[3]=r=>a.description=r),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:t(l).errors.desctiption},null,8,["modelValue","placeholder","error"]),s(m,{message:t(l).errors.description},null,8,["message"])]),n("div",Q,[s(d,{for:"parent",value:e.lang().label.parent},null,8,["value"]),C(n("select",{"onUpdate:modelValue":o[4]||(o[4]=r=>a.parent=r),id:"parent",name:"parent",class:"block w-full"},[(f(!0),v(N,null,T(t(E),(r,B)=>(f(),v("option",{key:B,value:r.id},u(t(A)(r.name)),9,R))),128))],512),[[$,a.parent]]),s(m,{message:t(l).errors.parent},null,8,["message"])]),n("div",W,[s(d,{for:"status",value:e.lang().label.status},null,8,["value"]),C(n("select",{"onUpdate:modelValue":o[5]||(o[5]=r=>a.status=r),id:"status",name:"status",class:"block w-full"},x,512),[[$,a.status]]),s(m,{message:t(l).errors.status},null,8,["message"])])],32)]),footer:i(()=>[s(P,{onClick:g},{default:i(()=>[_(u(e.lang().button.cancel),1)]),_:1}),s(O,{class:I(["ml-3",{"opacity-25":t(l).processing}]),disabled:t(l).processing,onClick:h},{default:i(()=>[_(u(e.lang().button.save)+" "+u(t(l).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{pe as default};
