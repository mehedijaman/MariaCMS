import{o as d,d as m,a as e,h as C,i as O,O as V,c as x,w as c,t as i,b as o,j as n,v as p,u,F as A,f as B,k as P,$ as N,g as U}from"./app-45c1fa09.js";import{_ as D}from"./AppLayout-de15fb7b.js";import{T as E,r as b,_ as F,p as L}from"./TablePagination-f1e44d32.js";import{_ as M}from"./Breadcrumb-ba9bde45.js";import{_ as T}from"./SelectInput-ce000625.js";import{_ as Z}from"./TextInput-7f45e80c.js";import z from"./Create-08e1e3c7.js";import q from"./Edit-4f76df68.js";import G from"./Delete-75cfb48b.js";import H from"./DeleteBulk-a609df33.js";import J from"./Permission-e70237fc.js";import{_ as K}from"./Checkbox-b299d139.js";import"./EnvelopeIcon-b3858613.js";/* empty css                                              */import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-90ada5e1.js";import"./ApplicationLogo-05ed4892.js";import"./SwitchLocale-4cf7807c.js";import"./index-873b4fc6.js";import"./TagIcon-1b6053fc.js";import"./StarIcon-1539470f.js";/* empty css                                               */import"./empty-bbb98b41.js";import"./DialogModal-a0641e4b.js";import"./Modal-e31d547a.js";import"./InputError-43ea7f75.js";import"./InputLabel-056a23eb.js";import"./PrimaryButton-b921ab23.js";import"./SecondaryButton-071ca990.js";import"./PlusIcon-4b0e953f.js";import"./ActionButton-084bb844.js";import"./PencilIcon-a068161e.js";import"./ConfirmationModal-91bc846e.js";import"./DangerButton-1c744f6e.js";import"./TrashIcon-b7dfe982.js";function Q(h,g){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}const R={class:"py-4"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-4 space-y-4"},X={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},Y={class:"flex shrink-0 rounded overflow-hidden"},ee={class:"flex justify-end items-center gap-2"},te={class:"flex space-x-2"},se={class:"p-4 text-left"},le=e("th",{class:"p-4 text-center"},"#",-1),ae={class:"flex justify-between items-center"},re={class:"flex justify-between items-center"},oe={class:"p-4 text-left"},ie={class:"flex justify-between items-center"},ne=e("th",{class:"p-4 text-center sr-only"},"Action",-1),de={class:"whitespace-nowrap px-4 py-2"},ce=["value"],pe={class:"whitespace-nowrap px-4 py-2 text-center"},me={class:"whitespace-nowrap px-4 py-2"},ue={class:"flex items-center"},he={class:"mt-2 shrink-0"},_e=["src","alt"],fe={class:"mt-2 shrink-0"},be={class:"truncate ml-3"},ge={class:"whitespace-nowrap truncate px-4 py-2"},ve={class:"whitespace-nowrap px-4 py-2"},we={key:0},ke={key:1},ye={class:"whitespace-nowrap px-4 py-2"},xe={class:"whitespace-nowrap flex justify-end px-4 py-2"},$e={class:"flex w-fit rounded overflow-hidden"},ot={__name:"Index",props:{title:String,filters:Object,users:Object,roles:Object,breadcrumbs:Object,perPage:Number},setup(h){const{_:g,debounce:$,pickBy:S}=L,r=h,t=C({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,user:null}),_=l=>{t.params.field=l,t.params.order=t.params.order==="asc"?"desc":"asc"};O(()=>g.cloneDeep(t.params),$(()=>{let l=S(t.params);V.get(route("user.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const I=l=>{var a;l.target.checked===!1?t.selectedId=[]:(a=r.users)==null||a.data.forEach(s=>{t.selectedId.push(s.id)})},j=()=>{var l;((l=r.users)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(l,a)=>(d(),x(D,{title:r.title},{title:c(()=>[e("span",null,i(r.title),1)]),default:c(()=>[o(M,{breadcrumbs:r.breadcrumbs},null,8,["breadcrumbs"]),e("div",R,[e("div",W,[e("div",X,[o(E,null,{"table-action":c(()=>[e("div",Y,[n(o(z,{title:r.title,roles:r.roles},null,8,["title","roles"]),[[p,l.can(["user create"])]]),n(o(H,{selectedId:t.selectedId,title:r.title,onClose:a[0]||(a[0]=s=>(t.selectedId=[],t.multipleSelect=!1))},null,8,["selectedId","title"]),[[p,t.selectedId.length!=0&&l.can(["user delete"])]])]),e("div",ee,[e("div",te,[o(T,{class:"h-9 text-sm",modelValue:t.params.perPage,"onUpdate:modelValue":a[1]||(a[1]=s=>t.params.perPage=s),dataSet:l.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),o(Z,{modelValue:t.params.search,"onUpdate:modelValue":a[2]||(a[2]=s=>t.params.search=s),type:"search",class:"block h-9",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":c(()=>[e("tr",null,[e("th",se,[o(K,{checked:t.multipleSelect,"onUpdate:checked":a[3]||(a[3]=s=>t.multipleSelect=s),onChange:I},null,8,["checked"])]),le,e("th",{class:"p-4 cursor-pointer",onClick:a[4]||(a[4]=s=>_("name"))},[e("div",ae,[e("span",null,i(l.lang().label.name),1),o(u(b),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[5]||(a[5]=s=>_("email"))},[e("div",re,[e("span",null,i(l.lang().label.email),1),o(u(b),{class:"w-4 h-4"})])]),e("th",oe,i(l.lang().label.role),1),e("th",{class:"p-4 cursor-pointer",onClick:a[6]||(a[6]=s=>_("created_at"))},[e("div",ie,[e("span",null,i(l.lang().label.created),1),o(u(b),{class:"w-4 h-4"})])]),ne])]),"table-body":c(()=>[(d(!0),m(A,null,B(h.users.data,(s,v)=>{var w,k,y;return d(),m("tr",{key:v,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",de,[n(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:j,value:s.id,"onUpdate:modelValue":a[7]||(a[7]=f=>t.selectedId=f)},null,40,ce),[[P,t.selectedId]])]),e("td",pe,i(++v),1),e("td",me,[e("div",ue,[n(e("div",he,[e("img",{src:s.profile_photo_url,alt:s.name,class:"rounded h-8 w-8 object-cover"},null,8,_e)],512),[[p,!s.profile_photo_path]]),n(e("div",fe,[e("span",{class:"block rounded w-8 h-8 bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+s.profile_photo_url+"');")},null,4)],512),[[p,s.profile_photo_path]]),e("p",be,i(s.name),1),s.email_verified_at?(d(),x(u(Q),{key:0,class:"w-4 h-auto text-blue-500 ml-1 shrink-0"})):U("",!0)])]),e("td",ge,i(s.email),1),e("td",ve,[(w=s.roles[0])!=null&&w.name?(d(),m("p",we,[o(J,{permissions:(k=s.roles[0])==null?void 0:k.permissions,title:(y=s.roles[0])==null?void 0:y.name},null,8,["permissions","title"])])):(d(),m("p",ke,i(l.lang().label.not_selected),1))]),e("td",ye,i(s.created_at),1),e("td",xe,[e("div",$e,[n(o(q,{title:r.title,user:t.user,onOpen:f=>t.user=s,roles:r.roles},null,8,["title","user","onOpen","roles"]),[[p,l.can(["user update"])]]),n(o(G,{title:r.title,user:t.user,onOpen:f=>t.user=s,roles:r.roles},null,8,["title","user","onOpen","roles"]),[[p,l.can(["user delete"])]])])])])}),128))]),"table-pagination":c(()=>[o(F,{links:r.users,filters:t.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{ot as default};
