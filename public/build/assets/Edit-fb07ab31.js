import{E as f,r as F,h as M,i as w,T as V,o as g,d as _,b as l,w as i,u as a,m as k,e as v,t as u,a as n,j as $,F as N,f as T,C as y,n as I}from"./app-45c1fa09.js";import{_ as z}from"./DialogModal-a0641e4b.js";import{_ as d}from"./InputError-43ea7f75.js";import{_ as m}from"./InputLabel-056a23eb.js";import{_ as L}from"./ActionButton-084bb844.js";import{_ as O}from"./PrimaryButton-b921ab23.js";import{_ as P}from"./SecondaryButton-071ca990.js";import{_ as C}from"./TextInput-7f45e80c.js";import{_ as q}from"./TextAreaInput-6fc7a8d4.js";import{g as A,t as G}from"./textHelper-8b1dfc94.js";import{r as H}from"./PencilIcon-a068161e.js";import"./Modal-e31d547a.js";import"./XMarkIcon-90ada5e1.js";const J={class:"flex flex-col md:flex-row gap-4"},K={class:"w-full"},Q={class:"w-full"},R={class:"space-y-1"},W={class:"flex flex-col md:flex-row gap-4"},X={class:"w-full"},Y=["value"],Z={class:"w-full"},ee=n("option",{value:"1"},"Published",-1),le=n("option",{value:"0"},"Unpublished",-1),se=n("option",{value:null},"Draft",-1),ae=[ee,le,se],ve={__name:"Edit",props:{item:Object},emits:["open"],setup(S,{emit:U}){const x=f("updateItems"),D=f("categories"),E=f("title"),j=U,p=F(!1),h=S,o=M(h.item);w(()=>o.name,e=>{o.slug=A(e)});let s=V(o);w(o,e=>{s=V(e)});const b=()=>{var e;s.put(route("categories.update",(e=h.item)==null?void 0:e.id),{preserveScroll:!0,onSuccess:t=>{c(),x(t.props.categories)},onError:()=>null,onFinish:()=>null})},c=()=>{p.value=!1,s.errors={},s.reset()};return(e,t)=>(g(),_("div",null,[l(L,{onClick:t[0]||(t[0]=k(r=>(p.value=!0,j("open")),["prevent"]))},{default:i(()=>[l(a(H),{class:"w-4 h-auto"})]),_:1}),l(z,{show:p.value,onClose:c,"max-width":"xl"},{title:i(()=>[v(u(e.lang().label.edit)+" "+u(a(E)),1)]),content:i(()=>[n("form",{class:"space-y-2",onSubmit:k(b,["prevent"])},[n("div",J,[n("div",K,[l(m,{for:"name",value:e.lang().label.name},null,8,["value"]),l(C,{id:"name",modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=r=>o.name=r),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.category_name,error:a(s).errors.name},null,8,["modelValue","placeholder","error"]),l(d,{message:a(s).errors.name},null,8,["message"])]),n("div",Q,[l(m,{for:"slug",value:e.lang().label.slug},null,8,["value"]),l(C,{id:"slug",modelValue:o.slug,"onUpdate:modelValue":t[2]||(t[2]=r=>o.slug=r),type:"text",class:"block w-full",autocomplete:"slug",placeholder:e.lang().placeholder.slug,error:a(s).errors.slug},null,8,["modelValue","placeholder","error"]),l(d,{message:a(s).errors.slug},null,8,["message"])])]),n("div",R,[l(m,{for:"slug",value:e.lang().label.description},null,8,["value"]),l(q,{id:"slug",modelValue:o.description,"onUpdate:modelValue":t[3]||(t[3]=r=>o.description=r),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:a(s).errors.desctiption},null,8,["modelValue","placeholder","error"]),l(d,{message:a(s).errors.description},null,8,["message"])]),n("div",W,[n("div",X,[l(m,{for:"parent_id",value:e.lang().label.parent},null,8,["value"]),$(n("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.parent_id=r),id:"parent_id",name:"parent_id",class:"block w-full"},[(g(!0),_(N,null,T(a(D),(r,B)=>(g(),_("option",{key:B,value:r.id},u(a(G)(r.name)),9,Y))),128))],512),[[y,o.parent_id]]),l(d,{message:a(s).errors.parent_id},null,8,["message"])]),n("div",Z,[l(m,{for:"status",value:e.lang().label.status},null,8,["value"]),$(n("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.status=r),id:"status",name:"status",class:"block w-full"},ae,512),[[y,o.status]]),l(d,{message:a(s).errors.status},null,8,["message"])])])],32)]),footer:i(()=>[l(P,{onClick:c},{default:i(()=>[v(u(e.lang().button.cancel),1)]),_:1}),l(O,{class:I(["ml-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing,onClick:b},{default:i(()=>[v(u(e.lang().button.save)+" "+u(a(s).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ve as default};
