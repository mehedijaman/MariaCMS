import{D as y,r as M,h as N,T as V,i as T,o as d,d as f,b as s,w as m,u as a,m as $,e as _,t as u,a as i,j as C,F as I,f as z,G as S,n as G}from"./app-0add7d3b.js";import{_ as L}from"./DialogModal-2828c21a.js";import{_ as v}from"./InputError-120a7b85.js";import{_ as g}from"./InputLabel-2c550e11.js";import{_ as O}from"./ActionButton-21b09c7e.js";import{_ as P}from"./PrimaryButton-156a4b37.js";import{_ as q}from"./SecondaryButton-d46d9a20.js";import{_ as A}from"./TextInput-fee49252.js";import{t as H}from"./textHelper-8b1dfc94.js";import{r as J}from"./PencilIcon-5dde8c8e.js";import"./Modal-600a46a3.js";import"./XMarkIcon-48a26f73.js";const K={class:"space-y-1"},Q={class:"space-y-1"},R=["value"],W={class:"space-y-1"},X=i("option",{value:"1"},"Published",-1),Y=i("option",{value:"0"},"Unpublished",-1),Z=i("option",{value:null},"Draft",-1),x=[X,Y,Z],ce={__name:"Edit",props:{title:String,item:Object},emits:["open"],setup(D,{emit:U}){var h,w,k;const j=y("updateItem"),B=y("positions"),E=U,p=M(!1),r=D,l=N({name:(h=r.item)==null?void 0:h.name,position:(w=r.item)==null?void 0:w.position,status:(k=r.item)==null?void 0:k.status});let t=V(l);T(l,e=>{t=V(e)});const b=()=>{var e;t.put(route("menus.update",(e=r.item)==null?void 0:e.id),{preserveScroll:!0,onSuccess:()=>{var o;c(),j((o=r.item)==null?void 0:o.id,l)},onError:()=>null,onFinish:()=>null})},c=()=>{p.value=!1,t.errors={},t.reset()};return(e,o)=>(d(),f("div",null,[s(O,{onClick:o[0]||(o[0]=$(n=>(p.value=!0,E("open")),["prevent"]))},{default:m(()=>[s(a(J),{class:"w-4 h-auto"})]),_:1}),s(L,{show:p.value,onClose:c,"max-width":"md"},{title:m(()=>[_(u(e.lang().label.edit)+" "+u(r.title),1)]),content:m(()=>[i("form",{class:"space-y-2",onSubmit:$(b,["prevent"])},[i("div",K,[s(g,{for:"name",value:e.lang().label.name},null,8,["value"]),s(A,{id:"name",modelValue:l.name,"onUpdate:modelValue":o[1]||(o[1]=n=>l.name=n),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.menu_name,error:a(t).errors.name},null,8,["modelValue","placeholder","error"]),s(v,{message:a(t).errors.name},null,8,["message"])]),i("div",Q,[s(g,{for:"position",value:e.lang().label.position},null,8,["value"]),C(i("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>l.position=n),id:"position",name:"position",class:"block w-full"},[(d(!0),f(I,null,z(a(B),(n,F)=>(d(),f("option",{key:F,value:n},u(a(H)(n)),9,R))),128))],512),[[S,l.position]]),s(v,{message:a(t).errors.position},null,8,["message"])]),i("div",W,[s(g,{for:"status",value:e.lang().label.status},null,8,["value"]),C(i("select",{"onUpdate:modelValue":o[3]||(o[3]=n=>l.status=n),id:"status",name:"status",class:"block w-full"},x,512),[[S,l.status]]),s(v,{message:a(t).errors.status},null,8,["message"])])],32)]),footer:m(()=>[s(q,{onClick:c},{default:m(()=>[_(u(e.lang().button.cancel),1)]),_:1}),s(P,{class:G(["ml-3",{"opacity-25":a(t).processing}]),disabled:a(t).processing,onClick:b},{default:m(()=>[_(u(e.lang().button.save)+" "+u(a(t).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ce as default};
