import{E as f,r as k,T as C,o as _,d as v,b as l,w as i,u as s,a,t as n,m as h,e as p,g as $,j as S,C as U,n as N}from"./app-40e302ae.js";import{_ as j}from"./DialogModal-112a7533.js";import{_ as d}from"./InputError-54276dc2.js";import{_ as u}from"./InputLabel-99c3d693.js";import{_ as B}from"./ImageInput-c9c1a446.js";import{_ as b}from"./PrimaryButton-19d7538d.js";import{_ as D}from"./SecondaryButton-a4fc0b9c.js";import{_ as E}from"./TextInput-e0c63212.js";import{_ as I}from"./TextAreaInput-584ba47e.js";import{r as M}from"./PlusIcon-279310fa.js";import"./Modal-9818fca1.js";import"./XMarkIcon-5aea3a76.js";const x={class:"hidden md:block"},F={class:"grid grid-cols-3 space-x-2"},T={class:"col-span-1"},z=["value"],P={class:"col-span-2"},q={class:"space-y-1"},A=a("option",{value:1},"Published",-1),G=a("option",{value:0},"Unpublished",-1),H=a("option",{value:null},"Draft",-1),J=[A,G,H],K={class:"space-y-1"},L={class:"space-y-1"},re={__name:"Create",setup(O){const y=f("updateItems"),V=f("gallery"),m=k(!1),e=C({image:null,title:null,description:null,order:null,status:1}),g=()=>{e.post(route("gallery.items.store",{gallery:V.id}),{preserveScroll:!0,onSuccess:o=>{y(o.props.gallery_items),c()},onError:()=>null,onFinish:()=>null})},c=()=>{m.value=!1,e.errors={},e.reset()},w=o=>{o.source==="image"&&(e.image=o.file)};return(o,t)=>(_(),v("div",null,[l(b,{class:"flex rounded-none items-center justify-start gap-2",onClick:t[0]||(t[0]=h(r=>m.value=!0,["prevent"]))},{default:i(()=>[l(s(M),{class:"w-4 h-auto"}),a("span",x,n(o.lang().label.add),1)]),_:1}),l(j,{show:m.value,onClose:c,"max-width":"2xl"},{title:i(()=>[p(n(o.lang().label.add),1)]),content:i(()=>[a("form",{class:"space-y-2",onSubmit:h(g,["prevent"])},[a("div",F,[a("div",T,[l(u,{for:"image",value:"Image"}),l(B,{source:"image",modelValue:s(e).image,"onUpdate:modelValue":t[1]||(t[1]=r=>s(e).image=r),class:"mt-1 block w-full h-48",onFileChange:w},null,8,["modelValue"]),l(d,{message:s(e).errors.image,class:"mt-2"},null,8,["message"]),s(e).progress?(_(),v("progress",{key:0,value:s(e).progress.percentage,max:"100"},n(s(e).progress.percentage)+"% ",9,z)):$("",!0)]),a("div",P,[a("div",q,[l(u,{for:"status",value:o.lang().label.status},null,8,["value"]),S(a("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(e).status=r),id:"status",name:"status",class:"block w-full"},J,512),[[U,s(e).status]]),l(d,{message:s(e).errors.status},null,8,["message"])]),a("div",K,[l(u,{for:"title",value:o.lang().label.title},null,8,["value"]),l(E,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":t[3]||(t[3]=r=>s(e).title=r),type:"text",class:"block w-full",autocomplete:"title",placeholder:o.lang().placeholder.gallery_title,error:s(e).errors.title},null,8,["modelValue","placeholder","error"]),l(d,{message:s(e).errors.name},null,8,["message"])]),a("div",L,[l(u,{for:"slug",value:o.lang().label.description},null,8,["value"]),l(I,{id:"slug",modelValue:s(e).description,"onUpdate:modelValue":t[4]||(t[4]=r=>s(e).description=r),type:"text",class:"block w-full",autocomplete:"description",placeholder:o.lang().placeholder.description,error:s(e).errors.desctiption},null,8,["modelValue","placeholder","error"]),l(d,{message:s(e).errors.description},null,8,["message"])])])])],32)]),footer:i(()=>[l(D,{onClick:c},{default:i(()=>[p(n(o.lang().button.cancel),1)]),_:1}),l(b,{class:N(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:g},{default:i(()=>[p(n(o.lang().button.save)+" "+n(s(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{re as default};
