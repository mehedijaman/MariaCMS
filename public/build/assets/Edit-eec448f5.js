import{E as I,r as M,T as F,o as w,d as y,b as l,w as n,u as s,m as C,e as g,t as m,a,g as T,j as $,C as S,n as z}from"./app-94de279c.js";import{_ as O}from"./DialogModal-c80aaba5.js";import{_ as u}from"./InputError-a749efb7.js";import{_ as d}from"./InputLabel-7fb7a9c2.js";import{_ as P}from"./ImageInput-6599c080.js";import{_ as q}from"./ActionButton-9b0479c1.js";import{_ as x}from"./PrimaryButton-e5fd0fc6.js";import{_ as A}from"./SecondaryButton-7a5ed3a0.js";import{_ as U}from"./TextInput-4b961fa3.js";import{_ as G}from"./TextAreaInput-cc116e33.js";import{r as H}from"./PencilIcon-a8f5f414.js";import"./Modal-38f1bd9c.js";import"./XMarkIcon-2828e103.js";const J={class:"space-y-1"},K=["value"],L={class:"space-y-1"},Q={class:"space-y-1"},R={class:"grid grid-cols-3 gap-2"},W={class:"col-span-2"},X={class:"col-span-1"},Y=["error"],Z=a("option",{value:null},"Self",-1),ee=a("option",{value:"_blank"},"Blank",-1),se=[Z,ee],le={class:"space-y-1"},te=a("option",{value:1},"Published",-1),oe=a("option",{value:0},"Unpublished",-1),ae=a("option",{value:null},"Draft",-1),re=[te,oe,ae],be={__name:"Edit",props:{title:String,item:Object},emits:["open"],setup(B,{emit:E}){var _,v,h,k,b,V;const N=I("updateItems"),j=E,p=M(!1),i=B,e=F({image:null,title:(_=i.item)==null?void 0:_.title,description:(v=i.item)==null?void 0:v.description,link:(h=i.item)==null?void 0:h.link,target:(k=i.item)==null?void 0:k.target,order:(b=i.item)==null?void 0:b.order,status:(V=i.item)==null?void 0:V.status}),f=()=>{var o,t;e.put(route("slider.items.update",{slider:(o=i.item)==null?void 0:o.slider_id,item:(t=i.item)==null?void 0:t.id}),{preserveScroll:!0,onSuccess:r=>{N(r.props.slider_items),c()},onError:()=>null,onFinish:()=>null})},c=()=>{p.value=!1,e.errors={},e.reset()},D=o=>{o.source==="image"&&(e.image=o.file)};return(o,t)=>(w(),y("div",null,[l(q,{onClick:t[0]||(t[0]=C(r=>(p.value=!0,j("open")),["prevent"]))},{default:n(()=>[l(s(H),{class:"w-4 h-auto"})]),_:1}),l(O,{show:p.value,onClose:c,"max-width":"xl"},{title:n(()=>[g(m(o.lang().label.edit)+" "+m(i.title),1)]),content:n(()=>[a("form",{class:"space-y-2",onSubmit:C(f,["prevent"])},[a("div",J,[l(d,{for:"image",value:"Image"}),l(P,{source:"image",modelValue:s(e).image,"onUpdate:modelValue":t[1]||(t[1]=r=>s(e).image=r),class:"mt-1 block w-full h-64",image:i.item.media[0].original_url,onFileChange:D},null,8,["modelValue","image"]),l(u,{message:s(e).errors.image,class:"mt-2"},null,8,["message"]),s(e).progress?(w(),y("progress",{key:0,value:s(e).progress.percentage,max:"100"},m(s(e).progress.percentage)+"% ",9,K)):T("",!0)]),a("div",L,[l(d,{for:"title",value:o.lang().label.title},null,8,["value"]),l(U,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":t[2]||(t[2]=r=>s(e).title=r),type:"text",class:"block w-full",autocomplete:"title",placeholder:o.lang().placeholder.title,error:s(e).errors.title},null,8,["modelValue","placeholder","error"]),l(u,{message:s(e).errors.title},null,8,["message"])]),a("div",Q,[l(d,{for:"slug",value:o.lang().label.description},null,8,["value"]),l(G,{id:"slug",modelValue:s(e).description,"onUpdate:modelValue":t[3]||(t[3]=r=>s(e).description=r),type:"text",class:"block w-full",autocomplete:"description",placeholder:o.lang().placeholder.description,error:s(e).errors.desctiption},null,8,["modelValue","placeholder","error"]),l(u,{message:s(e).errors.description},null,8,["message"])]),a("div",R,[a("div",W,[l(d,{for:"link",value:o.lang().label.link},null,8,["value"]),l(U,{id:"link",modelValue:s(e).link,"onUpdate:modelValue":t[4]||(t[4]=r=>s(e).link=r),type:"text",class:"block w-full",autocomplete:"link",placeholder:"https://",error:s(e).errors.link},null,8,["modelValue","error"]),l(u,{message:s(e).errors.link},null,8,["message"])]),a("div",X,[l(d,{for:"target",value:o.lang().label.target},null,8,["value"]),$(a("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(e).target=r),id:"target",name:"target",class:"block w-full",error:s(e).errors.target},se,8,Y),[[S,s(e).target]]),l(u,{message:s(e).errors.target},null,8,["message"])])]),a("div",le,[l(d,{for:"status",value:o.lang().label.status},null,8,["value"]),$(a("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>s(e).status=r),id:"status",name:"status",class:"block w-full"},re,512),[[S,s(e).status]]),l(u,{message:s(e).errors.status},null,8,["message"])])],32)]),footer:n(()=>[l(A,{onClick:c},{default:n(()=>[g(m(o.lang().button.cancel),1)]),_:1}),l(x,{class:z(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:f},{default:n(()=>[g(m(o.lang().button.save)+" "+m(s(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{be as default};
