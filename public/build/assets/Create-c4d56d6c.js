import{D as $,r as S,h as U,i as _,T as h,o as v,d as b,b as s,w as i,u as o,a as t,t as u,m as V,e as g,g as D,j as N,G as j,n as B}from"./app-0add7d3b.js";import{_ as M}from"./DialogModal-2828c21a.js";import{_ as m}from"./InputError-120a7b85.js";import{_ as d}from"./InputLabel-2c550e11.js";import{_ as T}from"./ImageInput-8d56e1e3.js";import{_ as w}from"./PrimaryButton-156a4b37.js";import{_ as E}from"./SecondaryButton-d46d9a20.js";import{_ as y}from"./TextInput-fee49252.js";import{_ as F}from"./TextAreaInput-c9fd3aca.js";import{g as I}from"./textHelper-8b1dfc94.js";import{r as x}from"./PlusIcon-1f67ab25.js";import"./Modal-600a46a3.js";import"./XMarkIcon-48a26f73.js";const z={class:"hidden md:block"},G={class:"grid grid-cols-3 space-x-2"},P={class:"col-span-1"},q=["value"],A={class:"col-span-2"},H={class:"space-y-1"},J={class:"space-y-1"},K={class:"space-y-1"},L=t("option",{value:"1"},"Published",-1),O=t("option",{value:"0"},"Unpublished",-1),Q=t("option",{value:null},"Draft",-1),R=[L,O,Q],W={class:"space-y-1"},de={__name:"Create",setup(X){const k=$("updateItems"),c=S(!1),a=U({thumbnail:null,name:null,slug:null,description:null,status:1});_(()=>a.name,e=>{a.slug=I(e)});let l=h(a);_(a,e=>{l=h(e)});const f=()=>{l.post(route("galleries.store"),{preserveScroll:!0,onSuccess:e=>{k(e.props.galleries),p()},onError:()=>null,onFinish:()=>null})},p=()=>{c.value=!1,l.errors={},l.reset()},C=e=>{e.source==="thumbnail"&&(a.thumbnail=e.file)};return(e,r)=>(v(),b("div",null,[s(w,{class:"flex rounded-none items-center justify-start gap-2",onClick:r[0]||(r[0]=V(n=>c.value=!0,["prevent"]))},{default:i(()=>[s(o(x),{class:"w-4 h-auto"}),t("span",z,u(e.lang().label.add),1)]),_:1}),s(M,{show:c.value,onClose:p,"max-width":"2xl"},{title:i(()=>[g(u(e.lang().label.add),1)]),content:i(()=>[t("form",{class:"space-y-2",onSubmit:V(f,["prevent"])},[t("div",G,[t("div",P,[s(d,{for:"thumbnail",value:"Thumbnail"}),s(T,{source:"thumbnail",modelValue:a.thumbnail,"onUpdate:modelValue":r[1]||(r[1]=n=>a.thumbnail=n),class:"mt-1 block w-44 h-44",onFileChange:C},null,8,["modelValue"]),s(m,{message:o(l).errors.thumbnail,class:"mt-2"},null,8,["message"]),o(l).progress?(v(),b("progress",{key:0,value:o(l).progress.percentage,max:"100"},u(o(l).progress.percentage)+"% ",9,q)):D("",!0)]),t("div",A,[t("div",H,[s(d,{for:"name",value:e.lang().label.name},null,8,["value"]),s(y,{id:"name",modelValue:a.name,"onUpdate:modelValue":r[2]||(r[2]=n=>a.name=n),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.gallery_name,error:o(l).errors.name},null,8,["modelValue","placeholder","error"]),s(m,{message:o(l).errors.name},null,8,["message"])]),t("div",J,[s(d,{for:"slug",value:e.lang().label.slug},null,8,["value"]),s(y,{id:"slug",modelValue:a.slug,"onUpdate:modelValue":r[3]||(r[3]=n=>a.slug=n),type:"text",class:"block w-full",autocomplete:"slug",placeholder:e.lang().placeholder.slug,error:o(l).errors.slug},null,8,["modelValue","placeholder","error"]),s(m,{message:o(l).errors.slug},null,8,["message"])]),t("div",K,[s(d,{for:"status",value:e.lang().label.status},null,8,["value"]),N(t("select",{"onUpdate:modelValue":r[4]||(r[4]=n=>a.status=n),id:"status",name:"status",class:"block w-full"},R,512),[[j,a.status]]),s(m,{message:o(l).errors.status},null,8,["message"])])])]),t("div",W,[s(d,{for:"slug",value:e.lang().label.description},null,8,["value"]),s(F,{id:"slug",modelValue:a.description,"onUpdate:modelValue":r[5]||(r[5]=n=>a.description=n),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:o(l).errors.desctiption},null,8,["modelValue","placeholder","error"]),s(m,{message:o(l).errors.description},null,8,["message"])])],32)]),footer:i(()=>[s(E,{onClick:p},{default:i(()=>[g(u(e.lang().button.cancel),1)]),_:1}),s(w,{class:B(["ml-3",{"opacity-25":o(l).processing}]),disabled:o(l).processing,onClick:f},{default:i(()=>[g(u(e.lang().button.save)+" "+u(o(l).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{de as default};
