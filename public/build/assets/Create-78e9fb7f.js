import{E as y,r as $,h as S,i as g,T as h,o as v,d as b,b as a,w as i,u as o,a as t,t as m,m as w,e as f,g as U,j as D,C as N,n as j}from"./app-d9a7eb7a.js";import{_ as B}from"./DialogModal-6f025864.js";import{_ as u}from"./InputError-19c360d7.js";import{_ as d}from"./InputLabel-5e293a64.js";import{_ as E}from"./ImageInput-03f2e6ee.js";import{_ as V}from"./PrimaryButton-a904e7d6.js";import{_ as M}from"./SecondaryButton-cb1663f8.js";import{_ as T}from"./TextInput-0d35b9b5.js";import{_ as x}from"./TextAreaInput-4c0f8a95.js";import{g as F}from"./textHelper-8b1dfc94.js";import{r as I}from"./PlusIcon-367248f7.js";import"./Modal-2710b0e7.js";import"./XMarkIcon-ece63d39.js";const z={class:"hidden md:block"},P={class:"grid grid-cols-1 md:grid-cols-3 space-x-2"},q={class:"col-span-1"},A=["value"],G={class:"col-span-2"},H={class:"space-y-1"},J={class:"space-y-1"},K={class:"space-y-1"},L=t("option",{value:"1"},"Published",-1),O=t("option",{value:"0"},"Unpublished",-1),Q=t("option",{value:null},"Draft",-1),R=[L,O,Q],ue={__name:"Create",setup(W){const k=y("updateItems"),c=$(!1),l=S({thumbnail:null,name:null,description:null,status:1});g(()=>l.name,e=>{l.slug=F(e)});let s=h(l);g(l,e=>{s=h(e)});const _=()=>{s.post(route("clients.store"),{preserveScroll:!0,onSuccess:e=>{k(e.props.clients),p()},onError:()=>null,onFinish:()=>null})},p=()=>{c.value=!1,s.errors={},s.reset()},C=e=>{e.source==="thumbnail"&&(l.thumbnail=e.file)};return(e,n)=>(v(),b("div",null,[a(V,{class:"flex rounded-none items-center justify-start gap-2",onClick:n[0]||(n[0]=w(r=>c.value=!0,["prevent"]))},{default:i(()=>[a(o(I),{class:"w-4 h-auto"}),t("span",z,m(e.lang().label.add),1)]),_:1}),a(B,{show:c.value,onClose:p,"max-width":"2xl"},{title:i(()=>[f(m(e.lang().label.add),1)]),content:i(()=>[t("form",{class:"space-y-2",onSubmit:w(_,["prevent"])},[t("div",P,[t("div",q,[a(d,{for:"thumbnail",value:"Thumbnail"}),a(E,{source:"thumbnail",modelValue:l.thumbnail,"onUpdate:modelValue":n[1]||(n[1]=r=>l.thumbnail=r),class:"mt-1 block w-auto h-48",onFileChange:C},null,8,["modelValue"]),a(u,{message:o(s).errors.thumbnail,class:"mt-2"},null,8,["message"]),o(s).progress?(v(),b("progress",{key:0,value:o(s).progress.percentage,max:"100"},m(o(s).progress.percentage)+"% ",9,A)):U("",!0)]),t("div",G,[t("div",H,[a(d,{for:"name",value:e.lang().label.name},null,8,["value"]),a(T,{id:"name",modelValue:l.name,"onUpdate:modelValue":n[2]||(n[2]=r=>l.name=r),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.name,error:o(s).errors.name},null,8,["modelValue","placeholder","error"]),a(u,{message:o(s).errors.name},null,8,["message"])]),t("div",J,[a(d,{for:"slug",value:e.lang().label.description},null,8,["value"]),a(x,{id:"slug",modelValue:l.description,"onUpdate:modelValue":n[3]||(n[3]=r=>l.description=r),type:"text",class:"block w-full",autocomplete:"description",placeholder:e.lang().placeholder.description,error:o(s).errors.desctiption},null,8,["modelValue","placeholder","error"]),a(u,{message:o(s).errors.description},null,8,["message"])]),t("div",K,[a(d,{for:"status",value:e.lang().label.status},null,8,["value"]),D(t("select",{"onUpdate:modelValue":n[4]||(n[4]=r=>l.status=r),id:"status",name:"status",class:"block w-full"},R,512),[[N,l.status]]),a(u,{message:o(s).errors.status},null,8,["message"])])])])],32)]),footer:i(()=>[a(M,{onClick:p},{default:i(()=>[f(m(e.lang().button.cancel),1)]),_:1}),a(V,{class:j(["ml-3",{"opacity-25":o(s).processing}]),disabled:o(s).processing,onClick:_},{default:i(()=>[f(m(e.lang().button.save)+" "+m(o(s).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ue as default};
